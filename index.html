<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>席替えシャッフル@paplica</title>
  <link href="https://fonts.googleapis.com/earlyaccess/roundedmplus1c.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" rel="stylesheet" />
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js" integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+" crossorigin="anonymous"></script>

</head>
  <body>
    <div class="container">
      <div class="columns">
        <div class="column is-four-fifths">
          <div class="columns">
            <div class="column is-one-third result-list" id="list01"></div>
            <div class="column is-one-third"></div>
            <div class="column is-one-third result-list" id="list02"></div>
          </div>
          <div class="columns">
            <div class="column extra-list"></div>
          </div>
        </div>
        <div class="column member-list">
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="ちーず">
            ちーず
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="つけぱん">
            つけぱん
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="めい">
            めい
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="ジェーニャ">
            ジェーニャ
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="うぃる">
            うぃる
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="ぽーる">
            ぽーる
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="かじけん">
            かじけん
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="ほおちゃん">
            ほおちゃん
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="みるきー">
            みるきー
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="パンジー">
            パンジー
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="うーさー">
            うーさー
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="ドムジャ">
            ドムジャ
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="ソニョ">
            ソニョ
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="ラグーン">
            ラグーン
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="しゃくり">
            しゃくり
          </label>
          <label class="checkbox">
            <input type="checkbox" name="memberName" value="とうひ">
            とうひ
          </label>
          <button id="submitButton">シャッフル</button>
        </div>
      </div>
    </div>
    <script>
      $(function(){
        var members = [];

        $("#submitButton").click(function() {
          members.length =  0;
          $(".result-list").empty();
          $(".extra-list").empty();

          $('input:checkbox[name="memberName"]:checked').each(function() {
            members.push($(this).val());
          });
          members.sort(function() {
            return Math.random() - Math.random();
          });

          if (members.length % 2 == 0) {
            for(var i = 0; i < members.length; i++) {
              if(i % 2 == 0){
                $("#list01").append(`<div>${members[i]}</div>`);
              } else {
                $("#list02").append(`<div>${members[i]}</div>`);
              }
            }
          } else {
            for(var i=0; i < members.length - 1; i++) {
              if(i % 2 == 0){
                $("#list01").append(`<div>${members[i]}</div>`);
              } else {
                $("#list02").append(`<div>${members[i]}</div>`);
              }
            }
            $(".extra-list").append(`<div>${members[members.length - 1]}</div>`);
          }
        });
      });
    </script>
    <style>
      .member-list {
        display: flex;
        flex-direction: column;
        margin-top: 40px;
      }
      .member-list label {
        margin-bottom: 8px;
      }

      .result-list {
        display: flex;
        flex-direction: column;
      }
    </style>
  </body>
</html>
